# åœºæ™¯1ï¼šæ–°å¢åŠŸèƒ½æ¨¡å—

> å®Œæ•´åŠŸèƒ½å¼€å‘ï¼ˆKiro.devä¸ºä¸»ï¼‰

---

## ğŸ“‹ åœºæ™¯

**éœ€æ±‚**ï¼šæ·»åŠ "èµ„æºåˆ†ç±»"ç®¡ç†åŠŸèƒ½  
**å¤æ‚åº¦**ï¼šä¸­ç­‰ï¼ˆ~500è¡Œï¼‰  
**å·¥å…·**ï¼šKiro.dev + Cursor  
**æ—¶é—´**ï¼š2-3å°æ—¶

---

## ğŸ”„ Phase 0: Contextï¼ˆ10åˆ†é’Ÿï¼‰

### åœ¨Kiroæˆ–Cursorä¸­é˜…è¯»è§„èŒƒ

```
é˜…è¯»ä»¥ä¸‹è§„èŒƒï¼š
- private_doc/spec/core/project-charter.md
- private_doc/spec/architecture/layered-architecture.md
- private_doc/spec/architecture/dual-orm-pattern.md
- private_doc/spec/coding-standards/go-style-guide.md
```

---

## ğŸ“ Phase 1: Specifyï¼ˆ20åˆ†é’Ÿï¼‰

### ä½¿ç”¨Kiro.dev

1. **åˆ›å»ºæ–°Spec**
```
Kiroé¢æ¿ â†’ New Spec
åç§°ï¼šResource Category Management
```

2. **æè¿°åŠŸèƒ½**
```
æˆ‘è¦æ·»åŠ èµ„æºåˆ†ç±»ç®¡ç†åŠŸèƒ½

åŠŸèƒ½åŒ…æ‹¬ï¼š
- åˆ›å»ºåˆ†ç±»ï¼ˆPOST /api/v1/categoriesï¼‰
- æŸ¥è¯¢åˆ†ç±»åˆ—è¡¨ï¼ˆGET /api/v1/categoriesï¼‰
- æŸ¥è¯¢åˆ†ç±»è¯¦æƒ…ï¼ˆGET /api/v1/categories/:idï¼‰
- æ›´æ–°åˆ†ç±»ï¼ˆPUT /api/v1/categories/:idï¼‰
- åˆ é™¤åˆ†ç±»ï¼ˆDELETE /api/v1/categories/:idï¼Œè½¯åˆ é™¤ï¼‰
- æ”¯æŒçˆ¶å­å…³ç³»ï¼ˆæœ€å¤š3å±‚ï¼‰

è¯·ç”ŸæˆRequirementsï¼Œä½¿ç”¨EARS notation
```

3. **Kiroç”Ÿæˆrequirements.md**

ç¤ºä¾‹ï¼š
```markdown
## User Stories

AS a æ•°æ®ç®¡ç†å‘˜
I WANT ç®¡ç†èµ„æºåˆ†ç±»
SO THAT æˆ‘å¯ä»¥ç»„ç»‡å’Œåˆ†ç±»æ•°æ®èµ„æº

## Acceptance Criteria (EARS)

WHEN ç”¨æˆ·åˆ›å»ºåˆ†ç±»æ—¶æäº¤æœ‰æ•ˆæ•°æ®
THE SYSTEM SHALL è¿”å›201å’Œåˆ›å»ºçš„åˆ†ç±»ID

WHEN ç”¨æˆ·åˆ›å»ºåˆ†ç±»æ—¶æäº¤æ— æ•ˆæ•°æ®
THE SYSTEM SHALL è¿”å›400å’ŒéªŒè¯é”™è¯¯ä¿¡æ¯

WHEN ç”¨æˆ·æŸ¥è¯¢åˆ†ç±»åˆ—è¡¨
THE SYSTEM SHALL è¿”å›åˆ†é¡µçš„åˆ†ç±»åˆ—è¡¨

## Business Rules
- åˆ†ç±»æœ€å¤šæ”¯æŒ3å±‚
- åˆ†ç±»åç§°åœ¨åŒçº§å†…å¿…é¡»å”¯ä¸€
- åˆ é™¤ä½¿ç”¨è½¯åˆ é™¤æ–¹å¼
- åˆ é™¤å‰éœ€æ£€æŸ¥å­åˆ†ç±»
```

**è´¨é‡æ£€æŸ¥ - Gate 1**ï¼š
- [ ] ç”¨æˆ·æ•…äº‹å®Œæ•´
- [ ] EARS notation
- [ ] ä¸šåŠ¡è§„åˆ™æ˜ç¡®

---

## ğŸ¨ Phase 2: Designï¼ˆ30åˆ†é’Ÿï¼‰

### Kiroè‡ªåŠ¨ç”Ÿæˆdesign.md

åŒ…å«ï¼š

**1. æ–‡ä»¶ç»“æ„**
```
model/resource_catalog/category/
â”œâ”€â”€ interface.go
â”œâ”€â”€ types.go
â”œâ”€â”€ factory.go
â”œâ”€â”€ gorm_dao.go
â””â”€â”€ sqlx_model.go

api/internal/logic/resource_catalog/category/
â”œâ”€â”€ createcategorylogic.go
â”œâ”€â”€ listcategorylogic.go
â”œâ”€â”€ getcategorylogic.go
â”œâ”€â”€ updatecategorylogic.go
â””â”€â”€ deletecategorylogic.go

api/internal/handler/resource_catalog/category/
â”œâ”€â”€ createcategoryhandler.go
â”œâ”€â”€ listcategoryhandler.go
â”œâ”€â”€ getcategoryhandler.go
â”œâ”€â”€ updatecategoryhandler.go
â””â”€â”€ deletecategoryhandler.go
```

**2. æ¥å£å®šä¹‰**
```go
type Model interface {
    Insert(ctx context.Context, data *Category) error
    FindOne(ctx context.Context, id int64) (*Category, error)
    List(ctx context.Context, page, size int) ([]*Category, int64, error)
    Update(ctx context.Context, data *Category) error
    SoftDelete(ctx context.Context, id int64) error
}
```

**3. æ•°æ®ç»“æ„**
```go
type Category struct {
    ID        int64     `gorm:"column:id;primaryKey" db:"id"`
    Name      string    `gorm:"column:name" db:"name"`
    Code      string    `gorm:"column:code" db:"code"`
    ParentID  *int64    `gorm:"column:parent_id" db:"parent_id"`
    Level     int       `gorm:"column:level" db:"level"`
    CreatedAt time.Time `gorm:"column:created_at" db:"created_at"`
    UpdatedAt time.Time `gorm:"column:updated_at" db:"updated_at"`
    DeletedAt *time.Time `gorm:"column:deleted_at" db:"deleted_at"`
}
```

**è´¨é‡æ£€æŸ¥ - Gate 2**ï¼š
- [ ] ç¬¦åˆåˆ†å±‚æ¶æ„
- [ ] æ–‡ä»¶æ¸…å•å®Œæ•´
- [ ] æ¥å£å®šä¹‰æ¸…æ™°

---

## ğŸ“‹ Phase 3: Tasksï¼ˆ20åˆ†é’Ÿï¼‰

### Kiroç”Ÿæˆtasks.md

```markdown
## Task 1: åˆ›å»ºModelæ¥å£å’Œç±»å‹å®šä¹‰
Status: â¸ï¸ Not Started
Files:
- model/resource_catalog/category/interface.go
- model/resource_catalog/category/types.go
Estimated Lines: 80

## Task 2: å®ç°GORM DAO
Status: â¸ï¸ Not Started
Depends on: Task 1
Files:
- model/resource_catalog/category/gorm_dao.go
Estimated Lines: 120

## Task 3: å®ç°SQLx Model
Status: â¸ï¸ Not Started
Depends on: Task 1
Files:
- model/resource_catalog/category/sqlx_model.go
Estimated Lines: 100

## Task 4: å®ç°Factory
Status: â¸ï¸ Not Started
Depends on: Task 2, Task 3
Files:
- model/resource_catalog/category/factory.go
Estimated Lines: 40

## Task 5: åˆ›å»ºåˆ†ç±»Logic
Status: â¸ï¸ Not Started
Depends on: Task 4
Files:
- api/internal/logic/resource_catalog/category/createcategorylogic.go
Estimated Lines: 45

## Task 6-9: å…¶ä»–CRUD Logic...
## Task 10-14: æ‰€æœ‰Handler...
```

**è´¨é‡æ£€æŸ¥ - Gate 3**ï¼š
- [ ] æ¯ä¸ªtask <50è¡Œ
- [ ] ä¾èµ–å…³ç³»æ¸…æ™°

---

## ğŸ’» Phase 4: Implementï¼ˆ1-2å°æ—¶ï¼‰

### ä½¿ç”¨Kiroç‚¹å‡»Taskæ‰§è¡Œ

æˆ–è€…åˆ‡æ¢åˆ°Cursorå¿«é€Ÿå®æ–½ï¼š

```
@private_doc/spec/coding-standards/go-style-guide.md
@tasks.md

æ‰§è¡ŒTask 1ï¼šåˆ›å»ºModelæ¥å£å’Œç±»å‹

è¦æ±‚ï¼š
- å®Œæ•´ä¸­æ–‡æ³¨é‡Š
- éµå¾ªç¼–ç è§„èŒƒ
```

### é€ä¸ªå®ŒæˆTasks

æ¯å®Œæˆä¸€ä¸ªï¼š
1. Reviewä»£ç 
2. è¿è¡Œæµ‹è¯•
3. æ›´æ–°taskçŠ¶æ€ä¸ºâœ…

**è´¨é‡æ£€æŸ¥ - Gate 4**ï¼š
```bash
go build ./...
go test -cover ./...
golangci-lint run
```

---

## âœ… å®Œæˆæ ‡å‡†

- [ ] æ‰€æœ‰taskså®Œæˆ
- [ ] ç¼–è¯‘é€šè¿‡
- [ ] æµ‹è¯•è¦†ç›–>80%
- [ ] Lintæ— é”™è¯¯
- [ ] Code Reviewé€šè¿‡
- [ ] æ–‡æ¡£å·²æ›´æ–°

---

**å®Œæ•´åŠŸèƒ½ï¼Œä¸¥æ ¼æµç¨‹ï¼** ğŸ¯
